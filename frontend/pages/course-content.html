<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>Course Content - LearningLab</title>
    <link rel="icon" href="../assets/images/icons/favicon.png" />

    <link
        href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.3/dist/css/bootstrap.min.css"
        rel="stylesheet"
        integrity="sha384-QWTKZyjpPEjISv5WaRU9OFeRpok6YctnYmDr5pNlyT2bRjXh0JMhjY6hW+ALEwIH"
        crossorigin="anonymous"
    />
    <link rel="stylesheet" href="https://cdn.hugeicons.com/font/hgi-stroke-rounded.css"/>

    <link rel="stylesheet" href="../assets/css/course-content.css" />
    <link rel="stylesheet" href="../assets/css/alert.css" />
    <link rel="stylesheet" href="../assets/css/color.css" />
    <link rel="stylesheet" href="../assets/css/button.css" />
  </head>
  <body>
    <div class="container-fluid p-4">
      <div class="d-flex justify-content-between align-items-center mb-4">
        <div class="d-flex align-items-center gap-3">
          <a href="course.html" class="text-decoration-none text-dark btn-back" data-bs-toggle="tooltip"
             data-bs-title="To Courses" data-bs-placement="bottom"
          >
            <i class="hgi-stroke hgi-arrow-left-01 fs-4 align-middle"></i>
          </a>
          <h4 class="mb-0 fw-semibold" id="courseTitle"></h4>
          <span class="badge rounded-pill bg-warning-subtle text-warning" id="courseLevel"></span>

        </div>
        <div class="d-flex align-items-center gap-3">
          <button class="btn btn-share">
            <i class="hgi-stroke hgi-share-01 fs-5 align-middle"></i>
            Share
          </button>
          <button class="btn btn-primary btn-enroll" id="enrollButton">
            <i class="hgi-stroke hgi-square-lock-02 fs-5"></i>
            Enroll Now
          </button>
        </div>
      </div>

      <div class="row g-4">
        <div class="col-lg-8">
          <div class="video-container mb-3 pe-none">
            <div class="ratio ratio-16x9">
              <iframe src="https://www.youtube.com/embed/" title="YouTube video player" frameborder="0"
                      allow="accelerometer; autoplay; clipboard-write; encrypted-media; gyroscope; picture-in-picture; web-share"
                      referrerpolicy="strict-origin-when-cross-origin" allowfullscreen id="videoPlayer"
              ></iframe>
            </div>
          </div>

          <div class="course-tabs mb-4 bg-white rounded-4 p-3">
            <ul class="nav nav-tabs border-0" id="courseTabs" role="tablist">
              <li class="nav-item" role="presentation">
                <button
                  class="nav-link active"
                  id="overview-tab"
                  data-bs-toggle="tab"
                  data-bs-target="#overview"
                  type="button"
                  role="tab"
                >
                  Overview
                </button>
              </li>
              <li class="nav-item" role="presentation">
                <button
                  class="nav-link"
                  id="resources-tab"
                  data-bs-toggle="tab"
                  data-bs-target="#resources"
                  type="button"
                  role="tab"
                >
                  Resources
                </button>
              </li>
              <li class="nav-item" role="presentation">
                <button
                  class="nav-link"
                  id="author-tab"
                  data-bs-toggle="tab"
                  data-bs-target="#author"
                  type="button"
                  role="tab"
                >
                  Author
                </button>
              </li>
              <li class="nav-item" role="presentation">
                <button
                  class="nav-link"
                  id="faq-tab"
                  data-bs-toggle="tab"
                  data-bs-target="#faq"
                  type="button"
                  role="tab"
                >
                  FAQ
                </button>
              </li>
              <li class="nav-item" role="presentation">
                <button
                  class="nav-link"
                  id="announcements-tab"
                  data-bs-toggle="tab"
                  data-bs-target="#announcements"
                  type="button"
                  role="tab"
                >
                  Announcements
                </button>
              </li>
              <li class="nav-item" role="presentation">
                <button
                  class="nav-link"
                  id="reviews-tab"
                  data-bs-toggle="tab"
                  data-bs-target="#reviews"
                  type="button"
                  role="tab"
                >
                  Reviews
                </button>
              </li>
              <li class="nav-item" role="presentation">
                <button
                  class="nav-link"
                  id="certificate-tab"
                  data-bs-toggle="tab"
                  data-bs-target="#certificate"
                  type="button"
                  role="tab"
                >
                  Certificate
                </button>
              </li>
            </ul>
            <!-- Tab Content -->
            <div class="tab-content p-4" id="courseTabsContent">
              <div class="tab-pane fade show active" id="overview" role="tabpanel">
                <h5>About Course</h5>
                <p id="courseDescription"></p>

                <h5 class="mt-4">What You'll Learn</h5>
                <ul class="learning-objectives" id="learningObjectives"></ul>
              </div>
              <div class="tab-pane fade" id="author" role="tabpanel">
                <div class="author-profile d-flex align-items-start gap-4">
                  <img src="" alt="Author Image" class="rounded-circle" id="authorImage" width="64" height="64"/>
                  <div>
                    <h5 class="mb-1" id="authorName"></h5>
                    <p class="text-muted mb-2" id="authorTitle"></p>
                    <p class="text-muted fw-bold mb-2">Since: <span class="small fw-normal me-2" id="authorAvailability"></span>
                      | <span class="small fw-normal ms-2" id="authorExperience"></span>
                    </p>
                    <p class="text-muted" id="authorBio"></p>
                  </div>
                </div>
              </div>
              <div class="tab-pane fade" id="faq" role="tabpanel">
                <div class="accordion d-flex flex-column gap-3 mb-3" id="faqAccordion">
                  <!-- FAQs rendered here -->
                </div>

                <!-- FAQ Question Form -->
                <div class="mt-3">
                  <h5>Have a Question?</h5>
                  <form id="faqForm" class="mt-3">
                    <div class="mb-3">
                      <textarea
                        class="form-control"
                        id="questionText"
                        rows="3"
                        placeholder="Type your question here..."
                        required
                      ></textarea>
                    </div>
                    <button type="submit" class="btn btn-primary">
                      Submit Question
                    </button>
                  </form>
                </div>
              </div>
              <div class="tab-pane fade" id="announcements" role="tabpanel">
                <div class="announcements-list" id="announcementsList"></div>
              </div>
              <div class="tab-pane fade" id="reviews" role="tabpanel">
                <div class="course-rating mb-4">
                  <h5>4.5 out of 5</h5>
                  <div class="stars">
                    <i class="hgi-stroke hgi-star fs-5 align-middle filled"></i>
                    <i class="hgi-stroke hgi-star fs-5 align-middle filled"></i>
                    <i class="hgi-stroke hgi-star fs-5 align-middle filled"></i>
                    <i class="hgi-stroke hgi-star fs-5 align-middle filled"></i>
                    <i
                      class="hgi-stroke hgi-star fs-5 align-middle half-filled"
                    ></i>
                  </div>
                  <p class="text-muted">Based on 126 reviews</p>
                </div>

                <!-- Review List -->
                <div class="review-list d-flex flex-column gap-3 mb-4" id="reviewsList"></div>

                <!-- Review Form -->
                <div class="review-form">
                  <h5>Write a Review</h5>
                  <form id="reviewForm" class="mt-3">
                    <div class="mb-3">
                      <label class="form-label">Rating</label>
                      <div class="rating-input stars">
                        <i class="hgi-stroke hgi-star fs-5 align-middle" data-rating="1"></i>
                        <i class="hgi-stroke hgi-star fs-5 align-middle" data-rating="2"></i>
                        <i class="hgi-stroke hgi-star fs-5 align-middle" data-rating="3"></i>
                        <i class="hgi-stroke hgi-star fs-5 align-middle" data-rating="4"></i>
                        <i class="hgi-stroke hgi-star fs-5 align-middle" data-rating="5"></i>
                      </div>
                    </div>
                    <div class="mb-3">
                      <label for="reviewText" class="form-label">Your Review</label>
                      <textarea class="form-control" id="reviewText" rows="2"></textarea>
                    </div>
                    <button type="submit" class="btn btn-primary">Submit Review</button>
                  </form>
                </div>
              </div>
              <!-- Resources -->
              <div class="tab-pane fade" id="resources" role="tabpanel">
                <h5>Course Materials</h5>
                <div class="resources-list m-3 mt-4" id="resourcesList">
                </div>
              </div>
            </div>
          </div>
        </div>

        <!-- Course Chapters -->
        <div class="col-lg-4">
          <div class="course-content">
            <div
              class="d-flex justify-content-between align-items-center mb-4 course-content-title"
            >
              <h5 class="mb-0 fw-semibold">Course Content</h5>
              <div class="d-flex align-items-center gap-2">
                <span class="badge rounded-pill bg-primary-subtle text-primary" id="chapter-count-badge"></span>
                <span class="badge rounded-pill bg-success-subtle text-success" id="progress-badge"></span>
              </div>
            </div>
            <div class="accordion" id="courseAccordion">
              <!-- Lessons rendered here -->
            </div>
          </div>
        </div>
      </div>

      <!-- Quiz Modal -->
      <div class="modal fade" id="quizModal" tabindex="-1" aria-labelledby="quizModalLabel" aria-hidden="true" data-bs-backdrop="static" data-bs-keyboard="false">
        <div class="modal-dialog modal-lg modal-dialog-centered">
          <div class="modal-content">
            <div class="modal-header">
              <h5 class="modal-title" id="quizModalLabel">Course Quiz</h5>
              <button type="button" class="btn-close shadow-none small" data-bs-dismiss="modal" aria-label="Close"></button>
            </div>
            <div class="modal-body">
              <form id="quizForm">
                <div class="questions-container"></div>
                <div class="d-flex align-items-center justify-content-end gap-2 pt-3">
                  <button type="button" class="btn btn-outline-warning" id="retakeQuiz" style="display: none;">Retake Quiz</button>
                  <button type="button" class="btn btn-outline-success" id="viewResults" data-bs-toggle="modal" data-bs-target="#quizResultModal" style="display: none;">View Results</button>
                  <button type="submit" class="btn btn-primary" id="submitQuiz">Submit Quiz</button>
                </div>
              </form>
            </div>
          </div>
        </div>
      </div>

      <!-- Quiz Result Modal -->
      <div
        class="modal fade"
        id="quizResultModal"
        data-bs-backdrop="static"
        data-bs-keyboard="false"
        tabindex="-1"
        aria-labelledby="quizResultModalLabel"
        aria-hidden="true"
      >
        <div class="modal-dialog modal-dialog-centered">
          <div class="modal-content">
            <div class="modal-header">
              <h5 class="modal-title" id="quizResultModalLabel">
                Quiz Results
              </h5>
              <button
                type="button"
                class="btn-close shadow-none small"
                data-bs-dismiss="modal"
                aria-label="Close"
              ></button>
            </div>
            <div class="modal-body text-center">
              <div class="lottie-container mb-2 mt-0">
                <dotlottie-player
                  src="https://lottie.host/05f66fcc-4cdb-4ffc-a7fd-f94415d1f233/tKUB7O8bX4.lottie"
                  background="transparent"
                  speed="1"
                  autoplay
                  class="d-none w-100 h-100"
                  id="passed-img"
                ></dotlottie-player>
                <dotlottie-player
                  src="https://lottie.host/bb53c46b-2ad4-4145-b5a7-f4cdf0a8b39a/IT8YNXcNvx.lottie"
                  background="transparent"
                  speed="1"
                  autoplay
                  class="d-none w-100 h-100"
                  id="failed-img"
                ></dotlottie-player>
              </div>
              <h4 class="result-status mb-3">Congratulations</h4>
              <p class="result-message mb-4">
                You did a great job in the test!
              </p>
              <div class="result-actions">
                <button
                  type="button"
                  class="btn btn-primary"
                  data-bs-dismiss="modal"
                >
                  Continue
                </button>
              </div>
            </div>
          </div>
        </div>
      </div>
    </div>

    <script
        src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.3/dist/js/bootstrap.bundle.min.js"
        integrity="sha384-YvpcrYf0tY3lHB60NNkmXc5s9fDVZLESaAA55NDzOxhy9GkcIdslK1eN7N6jIeHz"
        crossorigin="anonymous"
    ></script>
    <script src="https://unpkg.com/@dotlottie/player-component@2.7.12/dist/dotlottie-player.mjs" type="module"></script>
    <script src="../assets/js/jquery-3.7.1.min.js"></script>
    <script src="https://www.youtube.com/iframe_api"></script>
    <script src="../assets/js/course-content.js"></script>
    <script src="../assets/js/alert.js"></script>
  </body>
</html>
