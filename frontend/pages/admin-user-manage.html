<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>User Management</title>
    <link rel="icon" href="../assets/images/icons/favicon.png" />

    <link
            href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.3/dist/css/bootstrap.min.css"
            rel="stylesheet"
            integrity="sha384-QWTKZyjpPEjISv5WaRU9OFeRpok6YctnYmDr5pNlyT2bRjXh0JMhjY6hW+ALEwIH"
            crossorigin="anonymous"
    />

    <link
            rel="stylesheet"
            href="https://cdn.hugeicons.com/font/hgi-stroke-rounded.css"
    />

    <link rel="stylesheet" href="../assets/css/admin-user-manage.css" />
    <link rel="stylesheet" href="../assets/css/sidebar.css" />
    <link rel="stylesheet" href="../assets/css/alert.css" />
    <link rel="stylesheet" href="../assets/css/color.css" />
    <link rel="stylesheet" href="../assets/css/button.css" />
</head>
<body>
<div class="d-flex">
    <!-- Sidebar -->
    <div class="sidebar" id="sidebar">
        <div id="logo-container">
            <div class="ms-1">
                <img src="../assets/images/logo-full.png" alt="logo image" id="logo" />
            </div>
            <button class="toggle-btn rotate" id="toggleBtn">
                <i class="hgi-stroke hgi-menu-02 fs-5"></i>
            </button>
        </div>
        <nav class="nav flex-column mb-4">
            <a class="nav-link" href="admin-dashboard.html" data-bs-toggle="tooltip" data-bs-placement="right" data-bs-title="Dashboard">
                <i class="hgi-stroke hgi-home-04 fs-5 align-middle"></i>
                <span class="ms-2">Dashboard</span>
            </a>
            <a class="nav-link" href="admin-course.html" data-bs-toggle="tooltip" data-bs-placement="right" data-bs-title="Courses">
                <i class="hgi-stroke hgi-course fs-5 align-middle"></i>
                <span class="ms-2">Courses</span>
            </a>
            <a class="nav-link active" href="admin-user-manage.html" data-bs-toggle="tooltip" data-bs-placement="right" data-bs-title="Users">
                <i class="hgi hgi-stroke hgi-user-circle fs-5 align-middle"></i>
                <span class="ms-2">Users</span>
            </a>
            <!-- Add other nav items as needed -->
            <a class="nav-link logout" href="../index.html" data-bs-toggle="tooltip" data-bs-placement="right" data-bs-title="Logout">
                <i class="hgi-stroke hgi-logout-01 fs-5 align-middle"></i>
                <span class="ms-2">Logout</span>
            </a>
        </nav>
    </div>

    <!-- Main Content -->
    <div class="main-content">
        <div class="card">
            <div class="d-flex justify-content-between align-items-center w-100">
                <h4 class="mb-0">User Management</h4>
            </div>
        </div>

        <div class="container-fluid p-0">
            <!-- Filter and Search Controls -->
            <div class="row mb-3 card">
                <div class="col-md-3 px-0">
                    <label for="searchInput" class="form-label">Search Input</label>
                    <input type="text" id="searchInput" class="form-control" placeholder="Enter search term (ID or Title) ...">
                </div>
                <div class="col">
                    <label for="filterCategory" class="form-label">Category</label>
                    <select id="filterCategory" class="form-select" name="categoryId">
                        <option value="">All Categories</option>
                    </select>
                </div>
                <div class="col">
                    <label for="filterLevel" class="form-label">Level</label>
                    <select id="filterLevel" class="form-select">
                        <option value="">All Levels</option>
                        <option value="BEGINNER">Beginner</option>
                        <option value="INTERMEDIATE">Intermediate</option>
                        <option value="ADVANCED">Advanced</option>
                    </select>
                </div>
                <div class="col">
                    <label for="filterPublished" class="form-label">Status</label>
                    <select id="filterPublished" class="form-select">
                        <option value="">All Status</option>
                        <option value="true">Active</option>
                        <option value="false">Inactive</option>
                    </select>
                </div>
            </div>
            <!-- Tables Section -->
            <div class="data-table">
                <ul class="nav nav-tabs" id="myTab" role="tablist">
                    <li class="nav-item" role="presentation">
                        <button class="nav-link active" id="students-tab" data-bs-toggle="tab" data-bs-target="#students" type="button" role="tab" aria-controls="students" aria-selected="true">
                            Students
                        </button>
                    </li>
                    <li class="nav-item" role="presentation">
                        <button class="nav-link" id="instructors-tab" data-bs-toggle="tab" data-bs-target="#instructors" type="button" role="tab" aria-controls="instructors" aria-selected="false">
                            Instructors
                        </button>
                    </li>
                </ul>
                <div class="tab-content" id="myTabContent">
                    <div class="tab-pane fade show active" id="students" role="tabpanel" aria-labelledby="students-tab">
                        <div class="table-responsive">
                            <table class="table table-borderless table-hover">
                                <thead>
                                <tr>
                                    <th>Student</th>
                                    <th>Email</th>
                                    <th>Contact</th>
                                    <th>Address</th>
                                    <th>Joined At</th>
                                    <th>Status</th>
                                    <th>Actions</th>
                                </tr>
                                </thead>
                                <tbody id="studentsTableBody">
                                <!-- Dynamic content will be loaded here -->
                                </tbody>
                            </table>
                        </div>
                    </div>
                    <div class="tab-pane fade" id="instructors" role="tabpanel" aria-labelledby="instructors-tab">
                        <div class="table-responsive">
                            <table class="table table-borderless table-hover">
                                <thead>
                                <tr>
                                    <th>Instructor</th>
                                    <th>Email</th>
                                    <th>Contact</th>
                                    <th>Address</th>
                                    <th>Joined At</th>
                                    <th>Courses</th>
                                    <th>Status</th>
                                    <th>Actions</th>
                                </tr>
                                </thead>
                                <tbody id="instructorsTableBody">
                                <!-- Dynamic content will be loaded here -->
                                </tbody>
                            </table>
                        </div>
                    </div>
                </div>
            </div>
        </div>
    </div>
</div>

<!-- Student View Modal -->
<div class="modal fade" id="studentViewModal" tabindex="-1" aria-labelledby="studentViewModalLabel"
     aria-hidden="true" data-bs-backdrop="static" data-bs-keyboard="false">
    <div class="modal-dialog modal-lg modal-dialog-centered">
        <div class="modal-content border-0 shadow">
            <div class="modal-header border-0 pb-0 justify-content-between">
                <h5 class="modal-title fw-bold" id="studentViewModalLabel">
                    <i class="hgi hgi-stroke hgi-student me-2 fs-4 fw-medium align-middle"></i>
                    Student Details
                </h5>
                <div class="d-flex justify-content-end align-items-center gap-1">
                    <button class="btn btn-sm border-0 text-primary" id="studentToggleViewBtn">Show Full Details</button>
                    <button type="button" class="btn-close small shadow-none" data-bs-dismiss="modal" aria-label="Close"></button>
                </div>
            </div>
            <div class="modal-body px-4 pb-4">

                <!-- Quick View -->
                <div class="row g-3" id="studentQuickView">
                    <div class="col-md-6">
                        <label class="form-label small fw-medium">Full Name</label>
                        <div class="form-control bg-light" id="studentNameQuick"></div>
                    </div>
                    <div class="col-md-6">
                        <label class="form-label small fw-medium">Email</label>
                        <div class="form-control bg-light" id="studentEmailQuick"></div>
                    </div>
                    <div class="col-md-6">
                        <label class="form-label small fw-medium">Contact Number</label>
                        <div class="form-control bg-light" id="studentContactQuick"></div>
                    </div>
                    <div class="col-md-6">
                        <label class="form-label small fw-medium">Status</label>
                        <div class="form-control bg-light" id="studentStatusQuick"></div>
                    </div>
                    <div class="col-md-6">
                        <label class="form-label small fw-medium">Created At</label>
                        <div class="form-control bg-light" id="studentCreatedAtQuick"></div>
                    </div>
                    <div class="col-md-6">
                        <label class="form-label small fw-medium">Enrolled Courses</label>
                        <div class="form-control bg-light" id="studentEnrollmentsQuick"></div>
                    </div>
                </div>
                <!-- Full View -->
                <div class="row g-3 d-none" id="studentFullView">
                    <div class="col-12 text-center">
                        <img src="" id="studentProfilePictureFull" class="profile-picture-full" alt="Profile Picture">
                    </div>
                    <h6 class="col-12 mt-4 mb-0 fw-semibold text-muted">Personal Information</h6>
                    <div class="col-md-6">
                        <label class="form-label small fw-medium">Full Name</label>
                        <div class="form-control bg-light" id="studentNameFull"></div>
                    </div>
                    <div class="col-md-6">
                        <label class="form-label small fw-medium">Email</label>
                        <div class="form-control bg-light" id="studentEmailFull"></div>
                    </div>
                    <div class="col-md-6">
                        <label class="form-label small fw-medium">Contact Number</label>
                        <div class="form-control bg-light" id="studentContactFull"></div>
                    </div>
                    <div class="col-md-6">
                        <label class="form-label small fw-medium">Address</label>
                        <div class="form-control bg-light" id="studentAddressFull"></div>
                    </div>
                    <div class="col-12">
                        <label class="form-label small fw-medium">Bio</label>
                        <div class="form-control bg-light" id="studentBioFull" style="min-height: 60px;"></div>
                    </div>

                    <h6 class="col-12 mt-4 mb-0 fw-semibold text-muted">Account Information</h6>
                    <div class="col-md-6">
                        <label class="form-label small fw-medium">Role</label>
                        <div class="form-control bg-light" id="studentRoleFull"></div>
                    </div>
                    <div class="col-md-6">
                        <label class="form-label small fw-medium">Status</label>
                        <div class="form-control bg-light" id="studentStatusFull"></div>
                    </div>
                    <div class="col-md-6">
                        <label class="form-label small fw-medium">Created At</label>
                        <div class="form-control bg-light" id="studentCreatedAtFull"></div>
                    </div>
                    <div class="col-md-6">
                        <label class="form-label small fw-medium">Deactivated At</label>
                        <div class="form-control bg-light" id="studentDeactivatedAtFull"></div>
                    </div>
                    <div class="col-md-6">
                        <label class="form-label small fw-medium">Password Updated At</label>
                        <div class="form-control bg-light" id="studentPasswordUpdatedAtFull"></div>
                    </div>
                    <div class="col-md-6">
                        <label class="form-label small fw-medium">Email Updated At</label>
                        <div class="form-control bg-light" id="studentEmailUpdatedAtFull"></div>
                    </div>
                    <div class="col-md-6">
                        <label class="form-label small fw-medium">Two-Factor Enabled</label>
                        <div class="form-control bg-light" id="studentTwoFactorEnabledFull"></div>
                    </div>
                    <div class="col-12">
                        <label class="form-label small fw-medium">Previous Emails</label>
                        <div class="form-control bg-light" id="studentPreviousEmailsFull"></div>
                    </div>

                    <h6 class="col-12 mt-4 mb-0 fw-semibold text-muted">Social Links</h6>
                    <div class="col-md-6">
                        <label class="form-label small fw-medium">GitHub</label>
                        <div class="form-control bg-light" id="studentGithubLinkFull"></div>
                    </div>
                    <div class="col-md-6">
                        <label class="form-label small fw-medium">LinkedIn</label>
                        <div class="form-control bg-light" id="studentLinkedinLinkFull"></div>
                    </div>
                    <div class="col-md-6">
                        <label class="form-label small fw-medium">Stack Overflow</label>
                        <div class="form-control bg-light" id="studentStackOverflowLinkFull"></div>
                    </div>
                    <div class="col-md-6">
                        <label class="form-label small fw-medium">Website</label>
                        <div class="form-control bg-light" id="studentWebsiteLinkFull"></div>
                    </div>

                    <h6 class="col-12 mt-4 mb-0 fw-semibold text-muted">Academic Information</h6>
                    <div class="col-12">
                        <label class="form-label small fw-medium">Skills</label>
                        <div class="form-control bg-light" id="studentSkillsFull"></div>
                    </div>
                    <div class="col-12">
                        <label class="form-label small fw-medium">Enrolled Courses</label>
                        <div class="form-control bg-light" id="studentEnrollmentsFull"></div>
                    </div>
                    <div class="col-12">
                        <label class="form-label small fw-medium">Certificates</label>
                        <div class="form-control bg-light" id="studentCertificatesFull"></div>
                    </div>
                    <div class="col-12">
                        <label class="form-label small fw-medium">Quiz Attempts</label>
                        <div class="form-control bg-light" id="studentQuizAttemptsFull"></div>
                    </div>
                    <div class="col-12">
                        <label class="form-label small fw-medium">Orders</label>
                        <div class="form-control bg-light" id="studentOrdersFull"></div>
                    </div>
                </div>
            </div>
        </div>
    </div>
</div>

<!-- Instructor View Modal -->
<div class="modal fade" id="instructorViewModal" tabindex="-1" aria-labelledby="instructorViewModalLabel"
     aria-hidden="true" data-bs-backdrop="static" data-bs-keyboard="false">
    <div class="modal-dialog modal-lg modal-dialog-centered">
        <div class="modal-content border-0 shadow">
            <div class="modal-header border-0 pb-0 justify-content-between">
                <h5 class="modal-title fw-bold" id="instructorViewModalLabel">
                    <i class="hgi hgi-stroke hgi-teacher me-2 fs-4 fw-medium align-middle"></i>
                    Instructor Details
                </h5>
                <div class="d-flex justify-content-end align-items-center gap-1">
                    <button class="btn btn-sm border-0 text-primary" id="instructorToggleViewBtn">Show Full Details</button>
                    <button type="button" class="btn-close small shadow-none" data-bs-dismiss="modal" aria-label="Close"></button>
                </div>

            </div>
            <div class="modal-body px-4 pb-4">
                <!-- Quick View -->
                <div class="row g-3" id="instructorQuickView">
                    <div class="col-md-6">
                        <label class="form-label small fw-medium">Full Name</label>
                        <div class="form-control bg-light" id="instructorNameQuick"></div>
                    </div>
                    <div class="col-md-6">
                        <label class="form-label small fw-medium">Email</label>
                        <div class="form-control bg-light" id="instructorEmailQuick"></div>
                    </div>
                    <div class="col-md-6">
                        <label class="form-label small fw-medium">Contact Number</label>
                        <div class="form-control bg-light" id="instructorContactQuick"></div>
                    </div>
                    <div class="col-md-6">
                        <label class="form-label small fw-medium">Status</label>
                        <div class="form-control bg-light" id="instructorStatusQuick"></div>
                    </div>
                    <div class="col-md-6">
                        <label class="form-label small fw-medium">Created At</label>
                        <div class="form-control bg-light" id="instructorCreatedAtQuick"></div>
                    </div>
                    <div class="col-md-6">
                        <label class="form-label small fw-medium">Courses Taught</label>
                        <div class="form-control bg-light" id="instructorCoursesQuick"></div>
                    </div>
                </div>
                <!-- Full View -->
                <div class="row g-3 d-none" id="instructorFullView">
                    <div class="col-12 text-center">
                        <img src="" id="instructorProfilePictureFull" class="profile-picture-full" alt="Profile Picture">
                    </div>
                    <h6 class="col-12 mt-4 mb-0 fw-semibold text-muted">Personal Information</h6>
                    <div class="col-md-6">
                        <label class="form-label small fw-medium">Full Name</label>
                        <div class="form-control bg-light" id="instructorNameFull"></div>
                    </div>
                    <div class="col-md-6">
                        <label class="form-label small fw-medium">Email</label>
                        <div class="form-control bg-light" id="instructorEmailFull"></div>
                    </div>
                    <div class="col-md-6">
                        <label class="form-label small fw-medium">Contact Number</label>
                        <div class="form-control bg-light" id="instructorContactFull"></div>
                    </div>
                    <div class="col-md-6">
                        <label class="form-label small fw-medium">Address</label>
                        <div class="form-control bg-light" id="instructorAddressFull"></div>
                    </div>
                    <div class="col-12">
                        <label class="form-label small fw-medium">Bio</label>
                        <div class="form-control bg-light" id="instructorBioFull" style="min-height: 60px;"></div>
                    </div>

                    <h6 class="col-12 mt-4 mb-0 fw-semibold text-muted">Account Information</h6>
                    <div class="col-md-6">
                        <label class="form-label small fw-medium">Role</label>
                        <div class="form-control bg-light" id="instructorRoleFull"></div>
                    </div>
                    <div class="col-md-6">
                        <label class="form-label small fw-medium">Status</label>
                        <div class="form-control bg-light" id="instructorStatusFull"></div>
                    </div>
                    <div class="col-md-6">
                        <label class="form-label small fw-medium">Created At</label>
                        <div class="form-control bg-light" id="instructorCreatedAtFull"></div>
                    </div>
                    <div class="col-md-6">
                        <label class="form-label small fw-medium">Deactivated At</label>
                        <div class="form-control bg-light" id="instructorDeactivatedAtFull"></div>
                    </div>
                    <div class="col-md-6">
                        <label class="form-label small fw-medium">Password Updated At</label>
                        <div class="form-control bg-light" id="instructorPasswordUpdatedAtFull"></div>
                    </div>
                    <div class="col-md-6">
                        <label class="form-label small fw-medium">Email Updated At</label>
                        <div class="form-control bg-light" id="instructorEmailUpdatedAtFull"></div>
                    </div>
                    <div class="col-md-6">
                        <label class="form-label small fw-medium">Two-Factor Enabled</label>
                        <div class="form-control bg-light" id="instructorTwoFactorEnabledFull"></div>
                    </div>
                    <div class="col-12">
                        <label class="form-label small fw-medium">Previous Emails</label>
                        <div class="form-control bg-light" id="instructorPreviousEmailsFull"></div>
                    </div>

                    <h6 class="col-12 mt-4 mb-0 fw-semibold text-muted">Social Links</h6>
                    <div class="col-md-6">
                        <label class="form-label small fw-medium">GitHub</label>
                        <div class="form-control bg-light" id="instructorGithubLinkFull"></div>
                    </div>
                    <div class="col-md-6">
                        <label class="form-label small fw-medium">LinkedIn</label>
                        <div class="form-control bg-light" id="instructorLinkedinLinkFull"></div>
                    </div>
                    <div class="col-md-6">
                        <label class="form-label small fw-medium">Stack Overflow</label>
                        <div class="form-control bg-light" id="instructorStackOverflowLinkFull"></div>
                    </div>
                    <div class="col-md-6">
                        <label class="form-label small fw-medium">Website</label>
                        <div class="form-control bg-light" id="instructorWebsiteLinkFull"></div>
                    </div>

                    <h6 class="col-12 mt-4 mb-0 fw-semibold text-muted">Teaching Information</h6>
                    <div class="col-12">
                        <label class="form-label small fw-medium">Skills</label>
                        <div class="form-control bg-light" id="instructorSkillsFull"></div>
                    </div>
                    <div class="col-12">
                        <label class="form-label small fw-medium">Courses Taught</label>
                        <div class="form-control bg-light" id="instructorCoursesFull"></div>
                    </div>
                </div>
            </div>
        </div>
    </div>
</div>

<!-- Student Status Modal -->
<div class="modal fade" id="studentStatusModal" tabindex="-1" aria-labelledby="studentStatusModalLabel"
     aria-hidden="true" data-bs-backdrop="static" data-bs-keyboard="false">
    <div class="modal-dialog modal-dialog-centered modal-sm">
        <div class="modal-content border-0 shadow">
            <div class="modal-header border-0 pb-0">
                <h5 class="modal-title fw-bold" id="studentStatusModalLabel">
                    <i class="hgi hgi-stroke hgi-student me-2 fs-4 fw-medium align-middle"></i>
                    Student Status
                </h5>
                <button
                        type="button"
                        class="btn-close small shadow-none"
                        data-bs-dismiss="modal"
                        aria-label="Close"
                ></button>
            </div>
            <div class="modal-body px-4 pb-3">
                <form id="userStatusForm" class="needs-validation" novalidate>
                    <div class="row g-3">
                        <div class="col-12">
                            <label for="userStatus" class="form-label small fw-medium">
                                Status
                            </label>
                            <select
                                    class="form-select bg-light"
                                    id="userStatus"
                                    name="userStatus"
                                    required
                            >
                                <option value="Active">Active</option>
                                <option value="Inactive">Inactive</option>
                            </select>
                            <div class="invalid-feedback">Please select a status.</div>
                        </div>
                    </div>
                </form>
            </div>
            <div class="modal-footer pt-0 border-0">
                <button type="button" class="btn btn-warning" id="updateUserStatus">
                    Update Status
                </button>
            </div>
        </div>
    </div>
</div>

<!-- Status Confirmation Modal -->
<div class="modal fade" id="statusUpdateModal" tabindex="-1" aria-hidden="true"
     data-bs-backdrop="static" data-bs-keyboard="false">
    <div class="modal-dialog modal-dialog-centered modal-sm">
        <div class="modal-content border-0 shadow rounded-4">
            <div class="modal-body text-center p-4">
                <div class="mb-1">
                    <i class="hgi hgi-stroke hgi-toggle-on fs-2 align-middle text-success" id="statusUpdateIcon"></i>
                </div>
                <h5 class="mb-2" id="statusUpdateTitle">Confirm Status Update</h5>
                <p class="text-muted small mb-4">
                    Are you sure you want to <span id="statusUpdateAction"></span>
                    <span id="statusUpdateName"></span>?
                </p>
                <div class="d-flex justify-content-center align-items-center gap-3">
                    <button type="button" class="btn btn-light" data-bs-dismiss="modal">
                        No, Cancel
                    </button>
                    <button type="button" class="btn status-btn px-4" id="confirmStatusUpdate">
                        <img src="../assets/images/icons/toggle.svg" alt="Toggle Icon" class="svgIcon toggle"/>
                    </button>
                </div>
            </div>
        </div>
    </div>
</div>

<script
    src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.3/dist/js/bootstrap.bundle.min.js"
    integrity="sha384-YvpcrYf0tY3lHB60NNkmXc5s9fDVZLESaAA55NDzOxhy9GkcIdslK1eN7N6jIeHz"
    crossorigin="anonymous"
></script>
<script src="../assets/js/jquery-3.7.1.min.js"></script>
<script src="../assets/js/admin-user-manage.js"></script>
<script src="../assets/js/sidebar.js"></script>
<script src="../assets/js/alert.js"></script>
</body>
</html>